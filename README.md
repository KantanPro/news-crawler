# News Crawler WordPress Plugin

指定されたニュースソースから自動的に記事を取得し、WordPressサイトに投稿として追加するプラグインです。

## 機能

- **自動投稿**: 毎日1記事を自動的に投稿
- **カスタムカテゴリー**: 投稿するカテゴリーを設定可能（デフォルト: "blog"）
- **投稿ステータス**: 下書き、公開、非公開、承認待ちから選択可能
- **ジャンル管理**: 取得する記事のジャンルを設定で指定
- **独自ニュースソース**: カスタムURLを指定してニュースを取得
- **手動実行**: 設定画面から手動で記事取得を実行
- **テスト機能**: ニュースソースの接続テスト

## インストール

1. プラグインファイルを `/wp-content/plugins/news-crawler/` ディレクトリにアップロード
2. WordPress管理画面でプラグインを有効化
3. 設定 → News Crawler で設定を行う

## 設定方法

### 基本設定

1. **自動投稿を有効にする**: チェックを入れると毎日1記事を自動投稿
2. **ジャンル設定**: 1行に1ジャンルを入力（例: technology, business, politics）
3. **ニュースソース（URL）**: 1行に1URLを入力（RSSフィードまたはニュースサイト）
4. **投稿カテゴリー**: 投稿するカテゴリー名（存在しない場合は自動作成）
5. **投稿ステータス**: 投稿のステータスを選択

### ニュースソースの例

```
https://example.com/rss
https://news.example.com/feed
https://blog.example.com/feed.xml
```

## 使用方法

### 自動投稿

設定で「自動投稿を有効にする」にチェックを入れると、毎日1記事が自動的に投稿されます。

### 手動実行

設定画面の「手動実行」ボタンをクリックすると、設定したニュースソースから記事を取得して投稿します。

### テスト取得

「テスト取得」ボタンをクリックすると、ニュースソースへの接続をテストできます。

## 技術仕様

- **WordPress Cron**: 毎日実行されるクーロンジョブ
- **HTML パース**: 基本的なHTMLタグからタイトルと本文を抽出
- **カテゴリー自動作成**: 存在しないカテゴリーは自動的に作成
- **メタデータ保存**: ニュースソースと取得日時を保存

## 注意事項

- ニュースソースの利用規約を確認してください
- 大量のリクエストは避けてください
- 取得したコンテンツの著作権に注意してください
- プラグイン無効化時はクーロンジョブが停止します

## トラブルシューティング

### 記事が投稿されない場合

1. ニュースソースのURLが正しいか確認
2. テスト取得で接続できるか確認
3. 投稿カテゴリーが正しく設定されているか確認
4. WordPress Cronが正常に動作しているか確認

### エラーが発生する場合

1. エラーログを確認
2. ニュースソースのサイトが正常に動作しているか確認
3. プラグインを無効化して再度有効化

## ライセンス

MIT License

## 作者

KantanPro - https://github.com/KantanPro

## サポート

問題や質問がある場合は、GitHubのIssuesページで報告してください。
