# News Crawler

指定されたニュースソースから自動的に記事を取得し、WordPressサイトに投稿として追加するプラグイン。YouTube動画のクロール機能も含む。

## 概要

News Crawlerは、WordPressサイトに自動的にコンテンツを追加するための包括的なプラグインです。ニュースソースからの記事取得、YouTube動画のクロール、アイキャッチ画像の自動生成、AI要約の生成など、コンテンツ管理を自動化します。

## 主な機能

- **ニュースソースからの自動記事取得**: RSSフィードやその他のAPI対応サービスから記事を自動取得
- **YouTube動画の自動クロール**: YouTubeチャンネルから動画を自動取得し、埋め込み投稿を作成
- **アイキャッチ画像の自動生成**: AIを活用したアイキャッチ画像の自動生成
- **AI要約の自動生成**: OpenAI APIを使用した記事の自動要約
- **ジャンル別設定管理**: 複数のジャンルに対応した設定管理システム
- **YouTube APIのクォータ制限対応**: API使用量の監視と制限への適切な対応

## 新機能（v1.9.10）

- **バージョン1.9.10に更新**: XPoster依存から独立したNews Crawlerとしての機能を強化
- **メタデータの設定処理改善**: より安定したメタデータ設定を実現
- **フックとコメントの更新**: 関連するフックやコメントを最新化

## 新機能（v1.9.9）

- **XPoster連携の強化**: 個別投稿作成時のシェア機能を修正し、より安定した連携を実現
- **投稿作成時の連携改善**: 投稿作成時のXPoster連携の安定性を向上
- **シェア機能の動作改善**: 個別投稿作成時のシェア機能の動作を改善

## 新機能（v1.9.8）

- **バージョン1.9.8リリース**: 安定性とパフォーマンスの向上
- **コードの最適化**: バグ修正とパフォーマンス改善
- **安定性の向上**: より安定した動作を実現

## 新機能（v1.9.7）

- **XPoster完全連携**: XPosterと同じ投稿監視フックを実装し、新規投稿が確実に認識されるように改善
- **投稿メタデータの強化**: XPoster用のメタデータを直接設定し、連携を確実化
- **遅延実行の最適化**: 投稿ステータス変更の遅延時間を延長し、XPosterの認識を確実化
- **メタデータ再設定機能**: 投稿作成後にXPoster用メタデータを再設定する機能を追加

## 新機能（v1.9.6）

- **XPoster連携機能**: 投稿ステータス変更フックを実装し、XPosterとの連携を強化
- **投稿ステータス管理の改善**: 投稿を最初に下書きとして作成する処理を実装
- **遅延実行機能**: 投稿ステータス変更を遅延実行する機能を追加
- **メタデータ更新の強化**: 関連メタデータを更新する処理を強化

## 新機能（v1.9.5）

- **要約をexcerptに設定するオプション**: 投稿更新時に要約をexcerptに設定する処理を実装
- **ログ出力の強化**: より詳細なログ情報を提供
- **最近の成功投稿表示**: 最近の成功投稿を一覧表示する機能を追加

## 新機能（v1.9.4）

- **OGP管理機能**: アイキャッチ画像の更新時にOGPマネージャーに通知する処理を実装
- **投稿設定の改善**: サブメニュー名の変更とCronスケジュールリセット機能を追加

## 新機能（v1.9.3）

- **YouTube APIのクォータ制限対応**: APIクォータの使用状況を監視し、制限に達した際の適切な処理を実装

## インストール

1. プラグインファイルを `/wp-content/plugins/news-crawler/` ディレクトリにアップロード
2. WordPressの管理画面でプラグインを有効化
3. 設定画面で必要なAPIキーを設定

## 必要なAPIキー

- **YouTube Data API v3**: YouTube動画の取得に必要
- **OpenAI API**: AI要約とアイキャッチ画像生成に必要
- **X API**: Xへの自動投稿に必要

## 使用方法

### 基本設定
1. 管理画面の「News Crawler」メニューから設定画面にアクセス
2. 必要なAPIキーを設定
3. ジャンル別の設定を行う

### ニュースクロール
1. ジャンル設定でニュースソースを指定
2. キーワードやフィルタリング条件を設定
3. 手動実行または自動実行を設定

### YouTube動画クロール
1. YouTube設定でチャンネルIDを指定
2. 取得する動画の条件を設定
3. 手動実行または自動実行を設定

## 設定項目

### ジャンル設定
- ニュースソースのURL
- キーワードフィルタリング
- 投稿カテゴリー
- タグ設定

### YouTube設定
- チャンネルID
- 動画の取得条件
- 投稿の形式設定

### SNS設定
- X API設定
- 自動投稿の条件
- 投稿テンプレート

## トラブルシューティング

### よくある問題

**YouTube APIのクォータ制限エラー**
- v1.9.0から改善されたクォータ制限対応により、適切な処理が行われます
- 設定画面でAPI使用量を確認できます

**X自動投稿が動作しない**
- X APIキーが正しく設定されているか確認
- API権限が適切に設定されているか確認

**XPosterで新規投稿が認識されない**
- v1.9.7から実装されたXPoster完全連携により、新規投稿が確実に認識されるようになりました
- 投稿作成時にXPoster用のメタデータが自動設定されます
- 投稿ステータス変更の遅延実行により、XPosterの認識を確実化しています

**アイキャッチ画像が生成されない**
- OpenAI APIキーが正しく設定されているか確認
- API使用量の制限に達していないか確認

## 更新履歴

### v1.9.8 (2025年8月28日)
- バージョン1.9.8リリース
- 安定性とパフォーマンスの向上
- コードの最適化とバグ修正

### v1.9.6 (2025年8月28日)
- XPoster連携機能を追加
- 投稿ステータス変更フックを実装
- 投稿を最初に下書きとして作成する処理を実装
- 投稿ステータス変更を遅延実行する機能を追加
- 関連メタデータを更新する処理を強化

### v1.9.5 (2025年8月28日)
- 要約をexcerptに設定するオプションを追加
- 投稿更新時に要約をexcerptに設定する処理を実装
- ログ出力を強化
- 最近の成功投稿を表示する機能を追加

### v1.9.4 (2025年8月28日)
- OGP管理機能を追加
- アイキャッチ画像の更新時にOGPマネージャーに通知する処理を実装
- 投稿設定のサブメニュー名を変更
- Cronスケジュールリセット機能を追加

### v1.9.3 (2024年12月19日)
- YouTube APIのクォータ制限対応
- その他のバグ修正とパフォーマンス向上

### v1.8.0
- アイキャッチ画像生成機能を追加
- AI要約生成機能を追加
- ジャンル別設定管理を改善

### v1.7.0
- YouTubeクローラー機能を追加
- 管理画面のUIを改善

### v1.6.0
- 基本的なニュースクロール機能を実装
- 管理画面の基本構造を追加

## ライセンス

MIT License

## 作者

KantanPro - [GitHub](https://github.com/KantanPro)

## サポート

問題や質問がある場合は、GitHubのIssuesページで報告してください。
