# News Crawler

指定されたニュースソースから自動的に記事を取得し、WordPressサイトに投稿として追加するプラグイン。YouTube動画のクロール機能も含む。

## 概要

News Crawlerは、設定したニュースソース（RSSフィードやニュースサイト）から自動的に記事を取得し、キーワードにマッチした記事を1つの投稿にまとめて作成するWordPressプラグインです。また、YouTubeチャンネルから動画を取得して動画の埋め込みと要約を含む投稿を作成する機能も提供します。

## 主な機能

### ニュースクロール機能
- **複数のニュースソース対応**: RSSフィードとHTMLページの両方に対応
- **キーワードベースのフィルタリング**: 設定したキーワードにマッチした記事のみを取得
- **重複記事の自動スキップ**: タイトルの類似性とURLの重複チェック
- **品質スコアによる評価**: 記事の品質を0.0〜1.0のスコアで評価
- **複数記事の統合**: 複数の記事を1つの投稿にまとめる機能
- **管理画面での制御**: 設定と手動実行が可能
- **統計情報の表示**: 投稿数やスキップ数などの統計を表示

### YouTube動画クロール機能
- **YouTubeチャンネル対応**: 指定したチャンネルから動画を自動取得
- **動画の埋め込み**: レスポンシブ対応の動画埋め込み
- **キーワードフィルタリング**: 動画タイトルと説明からキーワードマッチング
- **重複動画の自動スキップ**: 既に投稿済みの動画を自動スキップ
- **動画情報の表示**: 公開日、チャンネル名、動画時間、視聴回数などを表示
- **複数動画の統合**: 複数の動画を1つの投稿にまとめる機能

## 対応ソース

### ニュースソース
- RSSフィード
- ニュースサイトのHTMLページ
- 主要メディアサイト（NHK、朝日新聞、読売新聞など）

### YouTubeソース
- YouTubeチャンネル（チャンネルID指定）
- YouTube Data API v3対応
- 動画の自動取得と埋め込み

## 品質管理機能

- タイトル長のチェック（5〜150文字）
- 本文長のチェック（50文字以上）
- 画像の有無
- 日付情報の有無
- ソース情報の有無

## インストール方法

1. プラグインファイルを `/wp-content/plugins/news-crawler/` ディレクトリにアップロード
2. WordPressの管理画面でプラグインを有効化
3. 設定 > News Crawler から設定を行う
4. ニュースソースとキーワードを設定
5. 「投稿を作成」ボタンで手動実行

## 設定項目

### ニュースクロール設定
- **最大記事数**: 取得する記事の最大数（1-50件）
- **キーワード設定**: 1行に1キーワードを入力
- **ニュースソース**: 1行に1URLを入力（RSSフィードまたはニュースサイト）
- **投稿カテゴリー**: 投稿するカテゴリー名
- **投稿ステータス**: 下書き、公開、非公開、承認待ちから選択

### YouTube設定
- **YouTube API キー**: YouTube Data API v3のAPIキー
- **YouTubeチャンネルID**: 1行に1チャンネルIDを入力
- **最大動画数**: 取得する動画の最大数（1-20件）
- **キーワード設定**: 1行に1キーワードを入力
- **投稿カテゴリー**: 投稿するカテゴリー名
- **投稿ステータス**: 下書き、公開、非公開、承認待ちから選択
- **動画埋め込みタイプ**: レスポンシブ、クラシック、ミニマルから選択

## 使用方法

### ニュースクロール
1. 管理画面でニュースソースとキーワードを設定
2. 「投稿を作成」ボタンをクリック
3. ニュースソースの解析と投稿作成が実行される
4. 結果が画面に表示される

### YouTube動画クロール
1. 管理画面でYouTube APIキーとチャンネルIDを設定
2. キーワードとその他の設定を行う
3. 「動画投稿を作成」ボタンをクリック
4. YouTubeチャンネルの解析と動画投稿作成が実行される
5. 結果が画面に表示される

## システム要件

- WordPress 5.0以上
- PHP 7.4以上

## 必要なAPIキー

### YouTube Data API v3
YouTube動画クロール機能を使用するには、YouTube Data API v3のAPIキーが必要です。

1. [Google Cloud Console](https://console.cloud.google.com/)にアクセス
2. プロジェクトを作成または選択
3. YouTube Data API v3を有効化
4. APIキーを作成
5. プラグインの設定画面でAPIキーを入力

**注意**: APIキーは公開されないよう適切に管理してください。

## ライセンス

MIT License

## 変更履歴

### Version 1.3.0 (2025年8月24日)
- ファーストテイク

### Version 1.2.0 (2025年1月)
- YouTube動画クロール機能を追加
- YouTube Data API v3対応
- 動画の埋め込みと要約機能
- 設定画面にYouTubeメニューを追加

### Version 1.1.0 (2025年8月23日)
- ファーストテイク

## 作者

KantanPro - [GitHub](https://github.com/KantanPro)

## サポート

問題や質問がある場合は、GitHubのIssuesページでお知らせください。
