=== News Crawler ===
Contributors: KantanPro
Tags: news, crawler, youtube, automation, content
Requires at least: 5.0
Tested up to: 6.9.1
Requires PHP: 7.4
Stable tag: 2.3.14
License: MIT
License URI: https://opensource.org/licenses/MIT

指定されたニュースソースから自動的に記事を取得し、WordPressサイトに投稿として追加するプラグイン。YouTube動画のクロール機能も含む。

== Description ==

News Crawlerは、指定されたニュースソースから自動的に記事を取得し、WordPressサイトに投稿として追加するプラグインです。

**主な機能:**

* ニュースソースからの自動記事取得
* YouTube動画の自動クロール
* アイキャッチ画像の自動生成
* AI要約の自動生成
* ジャンル別設定管理

* YouTube APIのクォータ制限対応

**新機能（v2.3.14）:**
* 2025年9月6日リリース
* ライセンスキーの形式チェックを簡素化し、NCRL-で始まるキーに対してAPI検証を追加
* 開発環境での検証ロジックを改善し、API接続失敗時のフォールバック処理を実装
* ライセンス管理機能の安定性とユーザビリティを向上

**前バージョン（v2.3.13）の機能:**
* 2025年9月6日リリース
* ライセンス未設定時でもメニューを表示するよう修正
* ライセンス管理機能の表示ロジックを改善し、ユーザビリティを向上
* 管理画面でのメニュー表示の安定性を強化

**前バージョン（v2.3.12）の機能:**
* 2025年9月6日リリース
* ライセンス管理機能を追加し、無効なライセンス時の通知を実装
* ライセンスキーの形式チェックを厳密化し、管理画面でのライセンス通知を強化
* CSSスタイルを追加し、ユーザーインターフェースを改善
* ライセンス管理のUI/UXを大幅に向上

**前バージョン（v2.3.11）の機能:**
* 2025年9月6日リリース
* ライセンス管理機能を強化し、ライセンスクリア機能を追加
* ライセンスキーの形式チェックを改善し、エラーメッセージの表示方法を統一
* AJAXリクエストのエラーハンドリングを強化し、デバッグ情報を追加
* ライセンス管理の安定性とユーザビリティを向上

**前バージョン（v2.3.10）の機能:**
* 2025年9月5日リリース
* プラグインのバージョン取得方法を改善し、定数から直接取得するように変更
* キャッシュクリア機能を強化し、すべてのキャッシュをクリアするメソッドを追加
* 更新システムのバージョン表示問題を解決
* プラグイン有効化エラーの修正
* 管理画面でのバージョン表示の一貫性を向上

**前バージョン（v2.3.9）の機能:**
* 2025年9月5日リリース
* ライセンス認証ページの不要なメッセージを削除し、UIを簡素化
* 機能制限に関する説明を除去し、ユーザー体験を改善
* ライセンスキーによる機能制限メッセージを削除
* 管理画面のページタイトルで動的バージョン取得を実装
* ライセンス認証ページのタイトル表示問題を解決

**前バージョン（v2.3.8）の機能:**
* 2025年9月5日リリース
* 開発環境の判定ロジックを強化し、より厳密な条件でのチェックを実装
* 設定ページでの開発用ライセンスキーの取得方法を改善
* 開発環境と本番環境の判定精度を向上し、より安全なライセンス管理を実現

**前バージョン（v2.3.7）の機能:**
* 2025年9月5日リリース
* ライセンス管理機能を追加し、設定ページでのライセンス状態のチェックを実装
* 開発用ライセンスの切り替え機能を実装し、テスト環境での動作を改善
* AJAXハンドラーを追加し、リアルタイムでのライセンス状態確認が可能
* エラーログを強化し、デバッグ機能を向上
* ライセンスキーが無効または未設定の場合はライセンス入力画面を表示

**前バージョン（v2.3.6）の機能:**
* 2025年9月5日リリース
* プラグインのバージョン取得ロジックを動的に変更し、管理画面の表示を改善
* バージョン情報の表示精度を向上し、より正確な更新通知を実現
* 管理画面でのプラグイン情報表示を最適化

**前バージョン（v2.3.5）の機能:**
* 2025年9月5日リリース
* パフォーマンス最適化: デバッグログの削除により処理速度を向上
* 投稿数制限ロジックの改良: 候補がある有効なジャンル数に基づくグローバル制限を適用
* エラーハンドリングの改善: 実行前のチェックロジックを整理し、安定性を向上
* 全ジャンルの最近の投稿数カウント機能を実装
* 個別ジャンルの制限チェックを強化

**前バージョン（v2.3.4）の機能:**
* 2025年9月5日リリース
* 更新チェックロジックの整理: 不要なフィルターやアクションを削除し、更新スケジュールの設定を改善
* プラグイン有効化時のCronスクリプト自動作成機能を追加し、初期化処理を強化
* ニュースクロール処理の改善: 記事リンク取得時のエラーログ追加、処理時間制限と中断機能を実装
* 記事タイプ判定機能の追加: 深層クロール処理を実装し、記事リンク抽出ロジックを強化
* 手動実行処理の改善: 新しいジャンル設定システムに置き換え

**前バージョン（v2.3.3）の機能:**
* 2025年9月4日リリース
* 設定UI: コンテンツタイプ変更時の表示切替を改善。YouTube選択時にニュース設定を非表示、キャンセルでデフォルトをニュース記事に復帰
* 重複除去: ニュース/動画の重複スキップと順序保持（キーワード・ニュースソース順）を実装
* 投稿作成: 投稿ステータスのサニタイズ改善、デフォルト投稿者設定を追加。コンテンツ最小文字数の閾値を緩和しフォールバックを実装。無効記事時のエラーメッセージを明確化
* 更新チェック: 最新版時の通知抑止、transient保存と強制更新チェックの挙動を修正

**前バージョン（v2.3.0）の機能:**
* 記事要約生成機能を追加（OpenAI APIで詳細な要約を作成）
* 記事ページからサイトタイトルを抽出する機能を追加
* 投稿カテゴリーの取得方法を改善し、最初のカテゴリー名を返すように変更
* OpenAI の要約エラー処理と再試行ロジックを強化
* デバッグ用にAI生成を強化し、メタデータがない場合でも要約とSEOタイトル生成を続行するようにしました
* OpenAI API呼び出しに指数バックオフを追加し、エラーメッセージを改善しました
* ニュースクローラーの機能とログ記録を強化
* ドキュメントコメントのフォーマットを整え、不要な空行を削除

== Upgrade Notice ==

= 1.9.6 =
XPoster連携機能が追加された重要なアップデートです。投稿ステータス変更フックが実装され、投稿を最初に下書きとして作成する処理により、XPosterとの連携がよりスムーズになります。投稿ステータス変更の遅延実行とメタデータ更新処理の強化により、より安定した投稿管理が可能になります。既存の設定は保持されます。

= 1.9.5 =
要約をexcerptに設定するオプションが追加された重要なアップデートです。投稿更新時の要約処理が改善され、ログ出力の強化と最近の成功投稿表示機能により、より効率的な投稿管理が可能になります。既存の設定は保持されます。

= 1.9.4 =
OGP管理機能が追加された重要なアップデートです。アイキャッチ画像の更新時にOGPマネージャーに通知する処理が実装され、より効率的なOGP管理が可能になります。既存の設定は保持されます。

= 1.9.3 =
YouTube APIクォータ制限対応が追加された重要なアップデートです。既存の設定は保持されます。
